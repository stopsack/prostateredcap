<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Load MSK-IMPACT Prostate REDCap Labeled CSV File — load_prostate_redcap • prostateredcap</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Load MSK-IMPACT Prostate REDCap Labeled CSV File — load_prostate_redcap" />
<meta property="og:description" content="Loads, merges, reformats, corrects, and labels
the REDCap file used for the MSK-IMPACT Prostate clinical database.
It is recommended that the returned list is next processed by
check_prostate_redcap." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">prostateredcap</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/dataelements.html">Data elements to use for analyses</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/stopsack/prostateredcap/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Load MSK-IMPACT Prostate REDCap Labeled CSV File</h1>
    <small class="dont-index">Source: <a href='https://github.com/stopsack/prostateredcap/blob/master/R/load_prostate_redcap.R'><code>R/load_prostate_redcap.R</code></a></small>
    <div class="hidden name"><code>load_prostate_redcap.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Loads, merges, reformats, corrects, and labels
the REDCap file used for the MSK-IMPACT Prostate clinical database.
It is recommended that the returned list is next processed by
<code><a href='check_prostate_redcap.html'>check_prostate_redcap</a></code>.</p>
    </div>

    <pre class="usage"><span class='fu'>load_prostate_redcap</span><span class='op'>(</span>
  <span class='va'>labeled_csv</span>,
  deidentify <span class='op'>=</span> <span class='cn'>TRUE</span>,
  keep_also <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>baseline <span class='op'>=</span> <span class='cn'>NULL</span>, freeze <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>labeled_csv</th>
      <td><p>CSV file with labels, exported from REDCap.
Must be the labeled version and must contain dates
in order to derive time intervals.</p></td>
    </tr>
    <tr>
      <th>deidentify</th>
      <td><p>De-identify the returned data set using
<code><a href='deidentify_prostate_redcap.html'>deidentify_prostate_redcap</a></code>? Defaults to
<code>TRUE</code>. Should only be disabled if additional data need
to be merged by identifiers, followed by calling
<code><a href='deidentify_prostate_redcap.html'>deidentify_prostate_redcap</a></code> separately.</p></td>
    </tr>
    <tr>
      <th>keep_also</th>
      <td><p>Optional. Additional patient-level variables to keep
without editing. As applicable, they would need to be
deidentified manually.
Provide as list with vectors of variable names for baseline and freeze
forms: <code><a href='https://rdrr.io/r/base/list.html'>list(baseline = c("var1", "var2"), freeze = "varX")</a></code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>List of two labeled tibbles (data frames):</p><ul>
<li><p><code>pts</code>: Patient-level data</p></li>
<li><p><code>smp</code>: Sample-level data</p></li>
</ul>

<p>Access variables labels in RStudio via <code><a href='https://rdrr.io/r/utils/View.html'>View</a></code>
or using <code><a href='https://rdrr.io/r/base/attr.html'>attr</a>(., "label")</code>.</p>
<p>The warning message, <code>Duplicated column names deduplicated</code>, is
expected due to the design of the REDCap dataset.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The following edits and assumptions are made:</p><ol>
<li><p>Potentially incomplete date variables are converted to
date format, using <code><a href='guessdate.html'>guessdate</a></code>.</p></li>
<li><p>Various missingness indicators in strings and factors,
<code><a href='https://rdrr.io/r/base/c.html'>c("Unknown / Not Reported", "N/A", "NA", "Unknown", "X", "x")</a></code>,
are converted to <code>NA</code>.</p></li>
<li><p>"Undetectable" PSA is set to 0, PSA <code>"&gt;x"</code> is set to <code>x + 1</code>,
PSA <code>"a-b"</code> (e.g., <code>4.5-4.7</code>) is set to the mean of the two
values.</p></li>
<li><p>Clinical T and N stage variables are set to missing if M1.</p></li>
<li><p>Event dates and follow-up time for metastases (<code>met_date</code>),
castration resistance (<code>crpc_date</code>), and death are set:</p><ul>
<li><p>Event date is the last clinic visit (<code>lastvisit</code>)
if a CRPC/metastases event has not occurred.</p></li>
<li><p>Event date is the last follow up/contact (<code>lastfu</code>)
if last known survival status is alive.</p></li>
<li><p>If stage is M1 and the recorded metastasis date is no more than
1 month discrepant, <code>met_date</code> is set to the diagnosis
date (<code>dxdate</code>).</p></li>
<li><p>If the sample is a variant histology (e.g., neuroendocrine),
the castration resistance date (<code>crpc_date</code>) is the date of
diagnosis and the event indicator for survival analyses
(<code>event_crpc</code>) is <code>NA</code>.</p></li>
<li><p>Time intervals for these three survival outcomes are calculated
from the time of sequencing. For late-entry survival models,
time intervals from diagnosis to sequencing and from sample/biopsy to
sequencing are also provided.</p></li>
</ul></li>
<li><p>Disease extent, distinguishing CRPC from castration-sensitive disease,
at sampling is based on the sample date and the date of castration
resistance. If the samples was obtained before the CRPC date, or
CRPC did not occur, the sample is from castration-sensitive disease
by definition.</p></li>
</ol>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Overview of analysis-ready data elements:
<a href='https://stopsack.github.io/prostateredcap/articles/dataelements.html'>https://stopsack.github.io/prostateredcap/articles/dataelements.html</a></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># Load data:</span>
<span class='va'>pts_smp</span> <span class='op'>&lt;-</span> <span class='fu'>load_prostate_redcap</span><span class='op'>(</span>
  labeled_csv <span class='op'>=</span> <span class='st'>"GUPIMPACTDatabaseFre_DATA_LABELS_2020-01-01_0001.csv"</span><span class='op'>)</span>

<span class='co'># Access patient-level data:</span>
<span class='va'>pts_smp</span><span class='op'>$</span><span class='va'>pts</span>

<span class='co'># Access sample-level data:</span>
<span class='va'>pts_smp</span><span class='op'>$</span><span class='va'>smp</span>

<span class='co'># Pass 'pts_smp' to check_prostate_redcap() next</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Konrad Stopsack.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


